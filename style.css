:root{
  --bg1: #fceabb;
  --bg2: #f6d365;
  --accent: #ff7eb3;
  --card-bg: rgba(255,255,255,0.12);
  --glass: rgba(255,255,255,0.08);
}

*{box-sizing:border-box}
body{
  margin:0;padding:0;
  font-family: 'Poppins', 'Comic Sans MS', cursive, sans-serif;
  background: linear-gradient(135deg,var(--bg1),var(--bg2),#fda085,#a18cd1);
  background-size: 400% 400%;
  animation: gradientBG 18s ease infinite;
  color: #222;
  min-height:100vh;
  overflow:hidden;
  display:flex;align-items:center;justify-content:center;
}

.container{z-index:2;width:100%;padding:40px}

.card{
  width:min(980px,94%);
  margin:0 auto;
  display:flex;
  gap:24px;
  align-items:center;
  background: linear-gradient(180deg, var(--card-bg), rgba(255,255,255,0.04));
  padding:22px;border-radius:16px;box-shadow:0 10px 30px rgba(0,0,0,0.18);
  backdrop-filter: blur(6px);
}

.left{flex:0 0 220px}
.right{flex:1;text-align:left;padding:8px 12px}

.photo-frame{width:200px;height:200px;margin:0 auto;border-radius:50%;overflow:hidden;border:6px solid rgba(255,255,255,0.85);box-shadow:0 8px 30px rgba(0,0,0,0.25);background:linear-gradient(180deg,#fff,#ffe);}
.photo-frame img{width:100%;height:100%;object-fit:cover;display:block}
.photo-frame{position:relative}
.photo-fallback{position:absolute;inset:0;display:flex;align-items:center;justify-content:center;background:linear-gradient(180deg,rgba(0,0,0,0.18),rgba(0,0,0,0.08));color:#fff;font-size:4rem;font-weight:700}
.photo-fallback span{display:inline-block}

.title{font-size:2.4rem;margin:0 0 6px 0;color:#fff;text-shadow:0 6px 18px rgba(0,0,0,0.5);display:flex;align-items:center;gap:10px}
.title .name{color:var(--accent);font-weight:700}
.subtitle{margin:0 0 14px 0;font-size:1.05rem;color:rgba(255,255,255,0.95)}

/* Message block styles */
.message{margin-top:6px;color:#fff;font-family:'Kalam', 'Poppins', sans-serif}
.message .subtitle{font-size:1.25rem;margin-bottom:8px;letter-spacing:0.6px}
.message .line{opacity:0;transform:translateY(8px);transition:all 420ms cubic-bezier(.2,.9,.3,1);margin:6px 0;font-size:1.04rem}
.message .line.show{opacity:1;transform:translateY(0)}
.message .highlight{background:linear-gradient(90deg, rgba(255,255,255,0.18), rgba(255,255,255,0.06));padding:4px 8px;border-radius:8px;color:#fff;font-weight:700}
.message .emoji{opacity:0.95}
.message .signature{margin-top:10px;font-size:1.06rem;color:#fff7d9}

/* Tiny heart particle */
.heart{position:fixed;width:12px;height:12px;background:transparent;transform:translate(-50%,-50%);pointer-events:none;z-index:4}
.heart:before,.heart:after{content:'';position:absolute;width:12px;height:18px;background:#ff8a9b;border-radius:8px;transform:rotate(-45deg)}
.heart:after{left:6px;transform:rotate(45deg)}


/* Audio toast */
.audio-toast{position:fixed;left:50%;bottom:28px;transform:translateX(-50%);background:rgba(0,0,0,0.6);color:#fff;padding:8px 14px;border-radius:18px;z-index:6;opacity:0;transition:opacity .28s ease;font-family:'Poppins',sans-serif}


.cake{margin:6px 0 18px 0}
.candles rect{transform-origin:center;animation:wiggle 2s infinite ease-in-out}
@keyframes wiggle{0%{transform:translateY(0)}50%{transform:translateY(-3px)}100%{transform:translateY(0)}}

.controls{display:none}

/* Floating balloons (a few helper classes) */
.balloon{position:fixed;bottom:-160px;border-radius:50%;width:58px;height:74px;display:flex;align-items:center;justify-content:center;color:#fff;font-weight:700;z-index:3}

@keyframes floatUp{0%{transform:translateY(0) rotate(0deg);opacity:1}100%{transform:translateY(-130vh) rotate(360deg);opacity:0}}

@keyframes gradientBG{0%{background-position:0% 50%}50%{background-position:100% 50%}100%{background-position:0% 50%}}

#confetti{position:fixed;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:1}

/* Responsive tweaks */
@media (max-width:720px){
  .card{flex-direction:column;align-items:center}
  .left{order:2}
  .right{order:1;text-align:center}
  .title{justify-content:center}
}

/* Stronger mobile tweaks for small phones */
@media (max-width:420px){
  body{padding:10px}
  /* allow vertical scrolling and normal flow on small screens */
  body{overflow:auto;display:block;align-items:initial;justify-content:initial}
  html, body { overflow:auto; height:auto; -webkit-overflow-scrolling: touch; }
  .card{width:98%;padding:14px;gap:12px}
  .photo-frame{width:140px;height:140px;border-width:5px}
  .title{font-size:1.6rem}
  .message .subtitle{font-size:1.02rem}
  .message .line{font-size:0.98rem}
  .cake{transform:scale(0.88);transform-origin:center}
  .card{box-shadow:none}
  #confetti{opacity:0.9}
  /* ensure document can expand naturally */
  html, body { height: auto; }

  /* Ensure the body is not centering content on mobile and container fills width */
  body{display:block;padding-top:18px;padding-bottom:40px}
  .container{padding:12px 18px; width:100%; box-sizing:border-box}
  .card{margin-top:0}
}
